"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[2454],{8155(e,t,i){i.r(t),i.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"api/Plotter/index","title":"Plotter","description":"Plotter is a small wrapper around PyVista that supports two visualization modes:","source":"@site/docs/api/Plotter/index.md","sourceDirName":"api/Plotter","slug":"/api/Plotter/","permalink":"/pyemsi/docs/api/Plotter/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/api/Plotter/index.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Plotter"},"sidebar":"apiSidebar","previous":{"title":"FemapConverter","permalink":"/pyemsi/docs/api/FemapConverter"},"next":{"title":"set_file()","permalink":"/pyemsi/docs/api/Plotter/set_file"}}');var r=i(4848),n=i(8453);const d={sidebar_position:3,title:"Plotter"},l=void 0,o={},c=[{value:"Installation notes",id:"installation-notes",level:2},{value:"Initialization",id:"initialization",level:2},{value:"Working with time series (<code>*.pvd</code>)",id:"working-with-time-series-pvd",level:2},{value:"Visualization pipeline",id:"visualization-pipeline",level:2},{value:"Methods",id:"methods",level:2},{value:"Attributes",id:"attributes",level:2}];function a(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"Plotter"})," is a small wrapper around ",(0,r.jsx)(t.a,{href:"https://docs.pyvista.org/",children:"PyVista"})," that supports two visualization modes:"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Desktop (Qt)"}),": an interactive Qt window powered by ",(0,r.jsx)(t.a,{href:"https://qtdocs.pyvista.org/api_reference.html#qtinteractor",children:(0,r.jsx)(t.code,{children:"pyvistaqt.QtInteractor"})})," (requires ",(0,r.jsx)(t.code,{children:"PySide6"})," + ",(0,r.jsx)(t.code,{children:"pyvistaqt"}),")"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Notebook (Jupyter)"}),": PyVista\u2019s notebook backends (set ",(0,r.jsx)(t.code,{children:"notebook=True"}),")"]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["It is designed for quick inspection of VTK datasets produced by ",(0,r.jsx)(t.code,{children:"pyemsi"})," (especially ",(0,r.jsx)(t.code,{children:"*.pvd"})," time series and ",(0,r.jsx)(t.code,{children:"*.vtm"})," multiblock outputs), while still allowing you to access the underlying PyVista objects directly."]}),"\n",(0,r.jsx)(t.h2,{id:"installation-notes",children:"Installation notes"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Desktop/Qt mode requires ",(0,r.jsx)(t.code,{children:"PySide6"})," and ",(0,r.jsx)(t.code,{children:"pyvistaqt"})," in addition to ",(0,r.jsx)(t.code,{children:"pyvista"}),"."]}),"\n",(0,r.jsxs)(t.li,{children:["Notebook mode requires a supported PyVista notebook backend. The default in ",(0,r.jsx)(t.code,{children:"pyemsi"})," is ",(0,r.jsx)(t.code,{children:'backend="html"'}),"."]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["If Qt dependencies are missing and you instantiate ",(0,r.jsx)(t.code,{children:"Plotter(notebook=False)"}),", it raises an ",(0,r.jsx)(t.code,{children:"ImportError"})," with the suggested packages to install."]}),"\n",(0,r.jsx)(t.h2,{id:"initialization",children:"Initialization"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'from pyemsi import Plotter\r\n\r\n# Load a dataset (VTU/VTM/PVD/...)\r\np = Plotter("path/to/output.pvd")\r\n\r\n# Notebook mode (Jupyter)\r\np_nb = Plotter("path/to/output.pvd", notebook=True, backend="html")\n'})}),"\n",(0,r.jsx)(t.admonition,{title:"Parameters",type:"info",children:(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"filepath"})})," (",(0,r.jsx)(t.code,{children:"str | Path | None"}),", optional) \u2014 Mesh file to load immediately (calls ",(0,r.jsx)(t.a,{href:"/pyemsi/docs/api/Plotter/set_file",children:(0,r.jsx)(t.code,{children:"set_file()"})}),")."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"title"})})," (",(0,r.jsx)(t.code,{children:"str"}),", default: ",(0,r.jsx)(t.code,{children:'"pyemsi Plotter"'}),") \u2014 Qt window title (desktop mode only)."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"window_size"})})," (",(0,r.jsx)(t.code,{children:"tuple[int, int]"}),", default: ",(0,r.jsx)(t.code,{children:"(1024, 768)"}),") \u2014 Qt window size (desktop mode only)."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"position"})})," (",(0,r.jsx)(t.code,{children:"tuple[int, int] | None"}),", default: ",(0,r.jsx)(t.code,{children:"None"}),") \u2014 Qt window position (desktop mode only)."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"notebook"})})," (",(0,r.jsx)(t.code,{children:"bool"}),", default: ",(0,r.jsx)(t.code,{children:"False"}),") \u2014 Use PyVista notebook plotting instead of Qt."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"backend"})})," (",(0,r.jsx)(t.code,{children:"str | None"}),", default: ",(0,r.jsx)(t.code,{children:'"html"'}),") \u2014 PyVista notebook backend passed to ",(0,r.jsx)(t.a,{href:"https://docs.pyvista.org/user-guide/jupyter/index.html",children:(0,r.jsx)(t.code,{children:"pyvista.set_jupyter_backend()"})}),"."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"**kwargs"})})," \u2014 Passed to the underlying plotter (",(0,r.jsx)(t.code,{children:"QtInteractor"})," in desktop mode, ",(0,r.jsx)(t.a,{href:"https://docs.pyvista.org/api/plotting/_autosummary/pyvista.plotter",children:(0,r.jsx)(t.code,{children:"pyvista.Plotter"})})," in notebook mode)."]}),"\n"]})}),"\n",(0,r.jsxs)(t.h2,{id:"working-with-time-series-pvd",children:["Working with time series (",(0,r.jsx)(t.code,{children:"*.pvd"}),")"]}),"\n",(0,r.jsxs)(t.p,{children:["When the input file is a ",(0,r.jsx)(t.code,{children:"*.pvd"}),", ",(0,r.jsx)(t.a,{href:"/pyemsi/docs/api/Plotter/reader",children:(0,r.jsx)(t.code,{children:"Plotter.reader"})})," is a ",(0,r.jsx)(t.a,{href:"https://docs.pyvista.org/api/readers/_autosummary/pyvista.pvdreader",children:(0,r.jsx)(t.code,{children:"PVDReader"})}),". You can select a time step before plotting:"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"Plotter"})," also exposes convenience proxies to PyVista\u2019s ",(0,r.jsx)(t.a,{href:"https://docs.pyvista.org/api/readers/_autosummary/pyvista.timereader",children:(0,r.jsx)(t.code,{children:"TimeReader"})})," API:"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/pyemsi/docs/api/Plotter/active_time_value",children:(0,r.jsx)(t.code,{children:"active_time_value"})})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/pyemsi/docs/api/Plotter/number_time_points",children:(0,r.jsx)(t.code,{children:"number_time_points"})})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/pyemsi/docs/api/Plotter/time_values",children:(0,r.jsx)(t.code,{children:"time_values"})})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/pyemsi/docs/api/Plotter/set_active_time_point",children:(0,r.jsx)(t.code,{children:"set_active_time_point(time_point)"})})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/pyemsi/docs/api/Plotter/set_active_time_value",children:(0,r.jsx)(t.code,{children:"set_active_time_value(time_value)"})})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/pyemsi/docs/api/Plotter/time_point_value",children:(0,r.jsx)(t.code,{children:"time_point_value(time_point)"})})}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["If the underlying ",(0,r.jsx)(t.code,{children:"reader"})," is not a ",(0,r.jsx)(t.a,{href:"https://docs.pyvista.org/api/readers/_autosummary/pyvista.timereader",children:(0,r.jsx)(t.code,{children:"TimeReader"})}),", the getter-style attributes return ",(0,r.jsx)(t.code,{children:"None"}),", and the setter methods are silent no-ops that return ",(0,r.jsx)(t.code,{children:"None"}),"."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'from pyemsi import Plotter\r\n\r\np = Plotter("path/to/output.pvd")\r\np.set_active_time_point(-1)          # last time step (silent no-op if not time-aware)\r\np.plotter.view_xy()                  # any PyVista camera helper\r\np.set_scalar("B-Mag (T)", mode="element", cell2point=True)\r\np.set_vector("B-Vec (T)", scale="B-Mag (T)", factor=5e-3, opacity=0.5)\r\np.show()\n'})}),"\n",(0,r.jsx)(t.h2,{id:"visualization-pipeline",children:"Visualization pipeline"}),"\n",(0,r.jsxs)(t.p,{children:["If a file was loaded (via ",(0,r.jsx)(t.code,{children:"filepath"})," or ",(0,r.jsx)(t.a,{href:"/pyemsi/docs/api/Plotter/set_file",children:(0,r.jsx)(t.code,{children:"set_file()"})}),"), ",(0,r.jsx)(t.a,{href:"/pyemsi/docs/api/Plotter/show",children:(0,r.jsx)(t.code,{children:"show()"})})," and ",(0,r.jsx)(t.a,{href:"/pyemsi/docs/api/Plotter/export",children:(0,r.jsx)(t.code,{children:"export()"})})," will (re)build the visualization in this order:"]}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["Scalar field (",(0,r.jsx)(t.a,{href:"/pyemsi/docs/api/Plotter/set_scalar",children:(0,r.jsx)(t.code,{children:"set_scalar()"})}),")"]}),"\n",(0,r.jsxs)(t.li,{children:["Contours (",(0,r.jsx)(t.a,{href:"/pyemsi/docs/api/Plotter/set_contour",children:(0,r.jsx)(t.code,{children:"set_contour()"})}),")"]}),"\n",(0,r.jsxs)(t.li,{children:["Vector glyphs (",(0,r.jsx)(t.a,{href:"/pyemsi/docs/api/Plotter/set_vector",children:(0,r.jsx)(t.code,{children:"set_vector()"})}),")"]}),"\n",(0,r.jsxs)(t.li,{children:["Feature edges (",(0,r.jsx)(t.a,{href:"/pyemsi/docs/api/Plotter/set_feature_edges",children:(0,r.jsx)(t.code,{children:"set_feature_edges()"})}),", enabled by default)"]}),"\n",(0,r.jsx)(t.li,{children:"Camera reset"}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["If no file was loaded, you can still use the underlying ",(0,r.jsx)(t.code,{children:"plotter"})," directly and add any PyVista meshes/actors."]}),"\n",(0,r.jsx)(t.h2,{id:"methods",children:"Methods"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"./set_file",children:(0,r.jsx)(t.code,{children:"set_file(filepath)"})})}),(0,r.jsxs)(t.td,{children:["Set ",(0,r.jsx)(t.code,{children:"reader"})," from a mesh file."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"./set_active_time_point",children:(0,r.jsx)(t.code,{children:"set_active_time_point(time_point)"})})}),(0,r.jsx)(t.td,{children:"Select active time step (no-op if not time-aware)."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"./set_active_time_value",children:(0,r.jsx)(t.code,{children:"set_active_time_value(time_value)"})})}),(0,r.jsx)(t.td,{children:"Select active time by value (no-op if not time-aware)."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"./time_point_value",children:(0,r.jsx)(t.code,{children:"time_point_value(time_point)"})})}),(0,r.jsxs)(t.td,{children:["Get time value for a time step (or ",(0,r.jsx)(t.code,{children:"None"}),")."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"./set_feature_edges",children:(0,r.jsx)(t.code,{children:"set_feature_edges(...)"})})}),(0,r.jsx)(t.td,{children:"Configure feature-edge overlay."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"./set_scalar",children:(0,r.jsx)(t.code,{children:"set_scalar(...)"})})}),(0,r.jsx)(t.td,{children:"Configure scalar coloring."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"./set_contour",children:(0,r.jsx)(t.code,{children:"set_contour(...)"})})}),(0,r.jsx)(t.td,{children:"Configure contours."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"./set_vector",children:(0,r.jsx)(t.code,{children:"set_vector(...)"})})}),(0,r.jsx)(t.td,{children:"Configure vector glyphs."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"./show",children:(0,r.jsx)(t.code,{children:"show()"})})}),(0,r.jsx)(t.td,{children:"Render (Qt window or notebook output)."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"./export",children:(0,r.jsx)(t.code,{children:"export(...)"})})}),(0,r.jsx)(t.td,{children:"Save a screenshot to an image file."})]})]})]}),"\n",(0,r.jsx)(t.h2,{id:"attributes",children:"Attributes"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"./plotter0",children:(0,r.jsx)(t.code,{children:"plotter"})})}),(0,r.jsxs)(t.td,{children:["Underlying plotter (",(0,r.jsx)(t.code,{children:"QtInteractor"})," desktop / ",(0,r.jsx)(t.a,{href:"https://docs.pyvista.org/api/plotting/_autosummary/pyvista.plotter",children:(0,r.jsx)(t.code,{children:"pv.Plotter"})})," notebook)."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"./reader",children:(0,r.jsx)(t.code,{children:"reader"})})}),(0,r.jsxs)(t.td,{children:["PyVista reader created by ",(0,r.jsx)(t.a,{href:"/pyemsi/docs/api/Plotter/set_file",children:(0,r.jsx)(t.code,{children:"set_file()"})})," (e.g. for ",(0,r.jsx)(t.code,{children:"*.pvd"}),")."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"./mesh",children:(0,r.jsx)(t.code,{children:"mesh"})})}),(0,r.jsxs)(t.td,{children:["Lazily reads/caches the current mesh from ",(0,r.jsx)(t.code,{children:"reader"}),"."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"./active_time_value",children:(0,r.jsx)(t.code,{children:"active_time_value"})})}),(0,r.jsxs)(t.td,{children:["Current time value if ",(0,r.jsx)(t.code,{children:"reader"})," is time-aware, else ",(0,r.jsx)(t.code,{children:"None"}),"."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"./number_time_points",children:(0,r.jsx)(t.code,{children:"number_time_points"})})}),(0,r.jsxs)(t.td,{children:["Number of time steps if time-aware, else ",(0,r.jsx)(t.code,{children:"None"}),"."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.a,{href:"./time_values",children:(0,r.jsx)(t.code,{children:"time_values"})})}),(0,r.jsxs)(t.td,{children:["Available time values if time-aware, else ",(0,r.jsx)(t.code,{children:"None"}),"."]})]})]})]})]})}function h(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453(e,t,i){i.d(t,{R:()=>d,x:()=>l});var s=i(6540);const r={},n=s.createContext(r);function d(e){const t=s.useContext(n);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(n.Provider,{value:t},e.children)}}}]);